{
    "name": "dashboard_documentation",
    "label": "Dashboard Documentation Widgets",
    "live_edit": true,
    "version": "25.2.25.1",
    "description": "Documentation Widgets",
    "dashboard_type": "dashboard",
    "enabled": false,
    "dashboard_sections": [
        {
            "title": "Documentation",
            "widgets": [
                {
                    "title": "Documentation",
                    "widget_type": "custom_widget",
                    "widget_implementation": "dashboard_documentation/dashboard_documentation_widget",
                    "min_width": 12,
                    "min_height": 12,
                    "widget_id": "4e2d534c"
                }
            ]
        }
    ],
    "custom_widgets": {
        "dashboard_documentation_widget": {
            "artifacts": {
                "main": {
                    "attachment": "main.html",
                    "content_type": "text/html",
                    "is_template": true
                }
            }
        }
    },
    "saved_time": "2025-03-11T20:46:04.819399",
    "attachments": [
        {
            "name": "main.html",
            "value": "{%- set text1 = engine.get_dashboard_attachment(\"dashboard_documentation\", \"text1\", defaultValue=\"Hello World\") -%}\n{%- set text2 = engine.get_dashboard_attachment(\"dashboard_documentation\", \"text2\", defaultValue=\"Hi There\") -%}\n\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>File Diff Viewer</title>\n    <script src=\"https://cdn.jsdelivr.net/npm/diff@5.1.0/dist/diff.min.js\"></script>\n\n</head>\n<style>\n    .removed {\n      background-color: #ffe0e0;\n    }\n    \n    .added {\n      background-color: #e0ffe0;\n    }\n</style>\n<body>\n\t<div id=\"diff-container\"></div>\n<script>\n    function displaySideBySideDiff(oldText, newText, containerId) {\n      const diff = Diff.diffLines(oldText, newText);\n    \n      const leftColumn = document.createElement('div');\n      leftColumn.style.float = 'left';\n      leftColumn.style.width = '50%';\n      \n      const rightColumn = document.createElement('div');\n      rightColumn.style.float = 'left';\n      rightColumn.style.width = '50%';\n    \n      diff.forEach(part => {\n        const lines = part.value.split('\\n').filter(line => line !== ''); //remove empty lines\n        lines.forEach(line => {\n            const lineElementLeft = document.createElement('div');\n            const lineElementRight = document.createElement('div');\n\n            if (part.added) {\n                lineElementRight.textContent = line;\n                lineElementRight.classList.add('added');\n                rightColumn.appendChild(lineElementRight);\n            } else if (part.removed) {\n                lineElementLeft.textContent = line;\n                lineElementLeft.classList.add('removed');\n                leftColumn.appendChild(lineElementLeft);\n            } else {\n                lineElementLeft.textContent = line;\n                lineElementRight.textContent = line;\n                leftColumn.appendChild(lineElementLeft);\n                rightColumn.appendChild(lineElementRight);\n            }\n        });\n      });\n    \n      const container = document.getElementById(containerId);\n      container.appendChild(leftColumn);\n      container.appendChild(rightColumn);\n    }\n    \n    // Example usage:\n    const oldText = `{{text1}}`;\n    const newText = `{{text2}}`;\n    displaySideBySideDiff(oldText, newText, 'diff-container');\n</script>\n</body>\n</html>"
        },
        {
            "name": "text1",
            "value": "Wed Feb 26 15:40:09.973 UTC\n!! Building configuration...\n!! IOS XR Configuration 24.4.1\n!! Last configuration change at Wed Feb 26 15:34:08 2025 by cisco\n!\nhostname RCDN-NGMetro57C1-106\nusername cisco\n group root-lr\n group cisco-support\n secret 10 $6$f3wLS//zZLTt3S/.$OgCQKnZrkoMt/OeltqzmjpapFmF7XaGhDyIWMyppge2OTa8KPiYDhWwG3TPPt4OyPuOKn9C4BezfQQ/1UY3J20\n!\nline template vty\n timestamp\n exec-timeout 0 0\n!\nline console\n exec-timeout 0 0\n absolute-timeout 0\n session-timeout 0\n!\nline default\n exec-timeout 10 0\n length 0\n absolute-timeout 0\n session-limit 10\n session-timeout 100\n transport input all\n!\nvty-pool default 0 50\nsnmp-server ifindex persist\nsnmp-server trap link ietf\nsnmp-server vrf mgmt\n!\nsnmp-server host 10.122.127.184 traps version 2c public\nsnmp-server community public RO\nsnmp-server traps snmp coldstart\nsnmp-server traps snmp warmstart\nsnmp-server chassis-id NCS-57C1-48Q6-SYS-FOC2728R0Q7\nsnmp-server packetsize 4096\nsnmp-server trap-source MgmtEth0/RP0/CPU0/0\ncall-home\n service active\n contact smart-licensing\n http-proxy 64.102.255.47 port 1080\n source-interface MgmtEth0/RP0/CPU0/0\n profile CiscoTAC-1\n  active\n  destination transport-method email disable\n  destination transport-method http\n !\n!\ninterface MgmtEth0/RP0/CPU0/0\n ipv4 address 10.89.202.106 255.255.252.0\n!\nrouter static\n address-family ipv4 unicast\n  0.0.0.0/0 10.89.202.1\n !\n!\nlicense smart flexible-consumption enable\nssh timeout 120\nssh server rate-limit 600\nssh server session-limit 110\nssh server v2\nssh server vrf default\nssh server netconf vrf default\ncrypto ca trustpoint SLA-TrustPoint\n!\nend"
        },
        {
            "name": "text2",
            "value": "Wed Feb 26 15:40:38.668 UTC\n!! Building configuration...\n!! IOS XR Configuration 24.4.1\n!! Last configuration change at Wed Feb 26 15:40:29 2025 by cisco\n!\nhostname RCDN-NGMetro57C1-106\nlogging trap debugging\nlogging events display-location\nlogging format rfc5424\nlogging console disable\nlogging history notifications\nlogging monitor informational\nlogging buffered 125000000\nlogging buffered debugging\nlogging source-interface MgmtEth0/RP0/CPU0/0\nlogging hostnameprefix RCDN-NGMetro571C1-106\nservice timestamps log datetime localtime msec show-timezone year\nservice timestamps debug datetime msec\nlogging events link-status software-interfaces\nusername cisco\n group root-lr\n group cisco-support\n secret 10 $6$f3wLS//zZLTt3S/.$OgCQKnZrkoMt/OeltqzmjpapFmF7XaGhDyIWMyppge2OTa8KPiYDhWwG3TPPt4OyPuOKn9C4BezfQQ/1UY3J20\n!\ngrpc\n port 57400\n no-tls\n address-family ipv4\n!\ntelemetry model-driven\n destination-group DGroup1\n !\n sensor-group SGroup1\n  sensor-path Cisco-IOS-XR-infra-statsd-oper:infra-statistics/interfaces/interface/latest/generic-counters\n !\n subscription Sub1\n  sensor-group-id SGroup1 sample-interval 30000\n  destination-id DGroup1\n !\n!\nline template vty\n timestamp\n exec-timeout 0 0\n!\nline console\n exec-timeout 0 0\n absolute-timeout 0\n session-timeout 0\n!\nline default\n exec-timeout 10 0\n length 0\n absolute-timeout 0\n session-limit 10\n session-timeout 100\n transport input all\n!\nvty-pool default 0 50\nsnmp-server ifindex persist\nsnmp-server trap link ietf\nsnmp-server vrf mgmt\n!\nsnmp-server host 9.3.254.184 traps version 2c public97\nsnmp-server host 10.122.127.184 traps version 2c public\nsnmp-server community public RO\nsnmp-server community public97 RO\nsnmp-server traps rf\nsnmp-server traps bfd\nsnmp-server traps ethernet cfm\nsnmp-server traps ntp\nsnmp-server traps ethernet oam events\nsnmp-server traps copy-complete\nsnmp-server traps snmp linkup\nsnmp-server traps snmp linkdown\nsnmp-server traps snmp coldstart\nsnmp-server traps snmp warmstart\nsnmp-server traps snmp authentication\nsnmp-server traps flash removal\nsnmp-server traps flash insertion\nsnmp-server traps power\nsnmp-server traps config\nsnmp-server traps entity\nsnmp-server traps selective-vrf-download role-change\nsnmp-server traps syslog\nsnmp-server traps system\nsnmp-server traps frequency synchronization\nsnmp-server traps bridgemib\nsnmp-server traps optical\nsnmp-server traps addrpool low\nsnmp-server traps addrpool high\nsnmp-server traps cisco-entity-ext\nsnmp-server traps entity-state operstatus\nsnmp-server traps entity-state switchover\nsnmp-server traps entity-redundancy all\nsnmp-server traps entity-redundancy status\nsnmp-server traps entity-redundancy switchover\nsnmp-server chassis-id NCS-57C1-48Q6-SYS-FOC2728R0Q7\nsnmp-server packetsize 4096\nsnmp-server trap-source MgmtEth0/RP0/CPU0/0\ncall-home\n service active\n contact smart-licensing\n http-proxy 64.102.255.47 port 1080\n source-interface MgmtEth0/RP0/CPU0/0\n profile CiscoTAC-1\n  active\n  destination transport-method email disable\n  destination transport-method http\n !\n!\nnetconf-yang agent\n ssh\n!\ninterface MgmtEth0/RP0/CPU0/0\n ipv4 address 10.89.202.106 255.255.252.0\n!\nrouter static\n address-family ipv4 unicast\n  0.0.0.0/0 10.89.202.1\n !\n!\nsnmp-server traps isis all\nsnmp-server traps ospfv3 errors bad-packet\nsnmp-server traps ospfv3 errors config-error\nsnmp-server traps ospfv3 errors virt-bad-packet\nsnmp-server traps ospfv3 state-change if-state-change\nsnmp-server traps ospfv3 state-change neighbor-state-change\nsnmp-server traps ospfv3 state-change virtif-state-change\nsnmp-server traps ospfv3 state-change virtneighbor-state-change\nsnmp-server traps ospfv3 state-change restart-status-change\nsnmp-server traps ospfv3 state-change restart-virtual-helper-status-change\nsnmp-server traps bgp cbgp2\nsnmp-server traps bgp\nsnmp-server traps hsrp\nsnmp-server traps vrrp events\nsnmp-server traps vpls all\nsnmp-server traps vpls status\nsnmp-server traps vpls full-clear\nsnmp-server traps vpls full-raise\nsnmp-server traps l2vpn all\nsnmp-server traps l2vpn vc-up\nsnmp-server traps l2vpn vc-down\nsnmp-server traps mpls traffic-eng up\nsnmp-server traps mpls traffic-eng down\nsnmp-server traps mpls traffic-eng reroute\nsnmp-server traps mpls traffic-eng reoptimize\nsnmp-server traps mpls frr all\nsnmp-server traps mpls frr protected\nsnmp-server traps mpls frr unprotected\nsnmp-server traps mpls ldp up\nsnmp-server traps mpls ldp down\nsnmp-server traps mpls ldp threshold\nsnmp-server traps mpls traffic-eng p2mp up\nsnmp-server traps mpls traffic-eng p2mp down\nsnmp-server traps rsvp all\nsnmp-server traps rsvp new-flow\nsnmp-server traps rsvp lost-flow\nsnmp-server traps mpls l3vpn all\nsnmp-server traps mpls l3vpn vrf-up\nsnmp-server traps mpls l3vpn vrf-down\nsnmp-server traps mpls l3vpn max-threshold-cleared\nsnmp-server traps mpls l3vpn max-threshold-exceeded\nsnmp-server traps mpls l3vpn mid-threshold-exceeded\nsnmp-server traps mpls l3vpn max-threshold-reissue-notif-time 1\nsnmp-server traps pim neighbor-change\nsnmp-server traps pim invalid-message-received\nsnmp-server traps pim rp-mapping-change\nsnmp-server traps pim interface-state-change\nsnmp-server traps msdp peer-state-change\nxml agent tty\n!\nsnmp-server traps sensor\nsnmp-server traps fru-ctrl\nnetconf agent tty\n!\nsnmp-server traps ospf lsa lsa-maxage\nsnmp-server traps ospf lsa lsa-originate\nsnmp-server traps ospf errors bad-packet\nsnmp-server traps ospf errors authentication-failure\nsnmp-server traps ospf errors config-error\nsnmp-server traps ospf errors virt-bad-packet\nsnmp-server traps ospf errors virt-authentication-failure\nsnmp-server traps ospf errors virt-config-error\nsnmp-server traps ospf retransmit packets\nsnmp-server traps ospf retransmit virt-packets\nsnmp-server traps ospf state-change if-state-change\nsnmp-server traps ospf state-change neighbor-state-change\nsnmp-server traps ospf state-change virtif-state-change\nsnmp-server traps ospf state-change virtneighbor-state-change\nlicense smart flexible-consumption enable\nsnmp-server traps ipsla\nssh timeout 120\nssh server rate-limit 600\nssh server session-limit 110\nssh server v2\nssh server vrf default\nssh server netconf vrf default\ncrypto ca trustpoint SLA-TrustPoint\n!\nend"
        },
        {
            "name": "old_main",
            "value": "{%- set text1 = engine.get_dashboard_attachment(\"dashboard_documentation\", \"text1\", defaultValue=\"Hello World\") -%}\n{%- set text2 = engine.get_dashboard_attachment(\"dashboard_documentation\", \"text2\", defaultValue=\"Hi There\") -%}\n\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>File Diff Viewer</title>\n    <script src=\"https://cdn.jsdelivr.net/npm/diff@5.1.0/dist/diff.min.js\"></script>\n\n</head>\n<style>\n* {\n\tmargin: 0;\n\tpadding: 0;\n}\nhtml, body {\n\tbackground: #EEE;\n\tfont: 12px sans-serif;\n}\nbody {\n\tpadding-top: 1.8em;\n\t-webkit-box-sizing: border-box;\n\t-moz-box-sizing: border-box;\n\tbox-sizing: border-box;\n}\nhtml, body, table, tbody, tr, td, textarea, div {\n\theight: 100%\n}\ntable {\n\ttable-layout: fixed;\n\twidth: 100%;\n}\ntd {\n\tbox-sizing:border-box;\n\twidth: 33.3333%;\n\tpadding: 3px 4px;\n\tborder: 1px solid transparent;\n}\ntd div, td textarea {\n\toverflow: auto;\n\tfont: 1em monospace;\n\twidth: 100%;\n\tresize: none;\n}\nh1 {\n\tdisplay: inline;\n\tfont-size: 100%;\n}\ndel {\n\ttext-decoration: none;\n\tcolor: #b30000;\n\tbackground: #fadad7;\n}\nins {\n\tbackground: #eaf2c2;\n\tcolor: #406619;\n\ttext-decoration: none;\n}\n.chunk-header {\n\tcolor: #8a008b;\n\ttext-decoration: none;\n}\n\n#result {\n\twhite-space: pre-wrap;\n}\n\n#settings {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 5px;\n\tright: 5px;\n\theight: 2em;\n\tline-height: 2em;\n}\n#settings label {\n\tmargin-left: 1em;\n}\n\n.source {\n\tposition: absolute;\n\tright: 1%;\n\ttop: .2em;\n}\n\ntextarea {\n\tbackground: #F9F9F9;\n\tborder-color: #BBB #D9D9D9 #DDD;\n\tborder-radius: 4px;\n\toutline: none;\n}\ntextarea:focus {\n\tbackground: #FFF;\n\tborder-color: #6699cc;\n\tbox-shadow: 0 0 4px #2175c9;\n}\n\n@-moz-document url-prefix() {\n\tbody {\n\t\theight: 99%; /* Hide scroll bar in Firefox */\n\t}\n}    \n</style>\n<body>\n    <table><tr>\n        <td><div><pre>{{text1}}</pre><div></td>\n        <td></div><pre>{{text2}}</pre></div></td>\n        <td><div><pre id=\"diffOutput\"></pre></div></td>\n    </tr></table>\n\n    <script>\n        {%- set text1 = engine.get_dashboard_attachment(\"dashboard_documentation\", \"text1\", defaultValue=\"Hello World\") -%}\n        {%- set text2 = engine.get_dashboard_attachment(\"dashboard_documentation\", \"text2\", defaultValue=\"Hi There\") -%}\n        let text1 = `{{text1}}`\n        let text2 = `{{text2}}`\n        function showDiff(text1, text) {\n\t\t\tvar fragment = document.createDocumentFragment();\n\t\t\t// We contort the patch into a similar data structure to that returned by diffChars,\n            // diffWords, etc so that the same rendering code below can work on both.\n            var pastHunkHeader = false;\n            diff = Diff.createTwoFilesPatch('old.txt', 'new.txt', text1, text2)\n\t\t\t.split('\\n')\n\t\t\t.map(function(entry) {\n\t\t\t\tconst result = {\n\t\t\t\t\tvalue: entry + '\\n',\n\t\t\t\t};\n\t\t\t\tif (entry.startsWith('@@')) {\n\t\t\t\t\tresult.chunkHeader = true;\n\t\t\t\t\tpastHunkHeader = true;\n\t\t\t\t} else if (pastHunkHeader) {\n\t\t\t\t\tif (entry.startsWith('-')) {\n\t\t\t\t\t\tresult.removed = true;\n\t\t\t\t\t} else if (entry.startsWith('+')) {\n\t\t\t\t\t\tresult.added = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t});\n            for (var i=0; i < diff.length; i++) {\n                if (diff[i].added && diff[i + 1] && diff[i + 1].removed) {\n                    var swap = diff[i];\n                    diff[i] = diff[i + 1];\n                    diff[i + 1] = swap;\n                }\n\n                var node;\n                if (diff[i].removed) {\n                    node = document.createElement('del');\n                    node.appendChild(document.createTextNode(diff[i].value));\n                } else if (diff[i].added) {\n                    node = document.createElement('ins');\n                    node.appendChild(document.createTextNode(diff[i].value));\n                } else if (diff[i].chunkHeader) {\n                    node = document.createElement('span');\n                    node.setAttribute('class', 'chunk-header');\n                    node.appendChild(document.createTextNode(diff[i].value));\n                } else {\n                    node = document.createTextNode(diff[i].value);\n                }\n                fragment.appendChild(node);\n            }\n\t\t\tdiffOutput = document.getElementById('diffOutput');\n            diffOutput.textContent = '';\n            diffOutput.appendChild(fragment);\n\n        }\n        function showDiff2(text1, text2) {\n            const patch = Diff.createPatch(\"textDiff\", text1, text2);\n            const output = document.getElementById('diffOutput');\n            output.textContent = patch;\n        }\n        function showDiff1(text1, text2) {\n            const diff = Diff.diffLines(text1, text2);\n            const output = document.getElementById('diffOutput');\n            output.innerHTML = '';\n            \n            diff.forEach(part => {\n                const span = document.createElement('span');\n                span.style.color = part.added ? 'green' : part.removed ? 'red' : 'black';\n                span.textContent = part.value;\n                output.appendChild(span);\n            });\n        }\n\n        showDiff(text1, text2);\n    </script>\n</body>\n</html>"
        }
    ]
}
